{"version":3,"sources":["app/enum.js","app/actions.js","mainComponents/toolbar/SelectionButtonsGroup.js","mainComponents/toolbar/LoadButton.js","app/tools/CirculationXmlTools.js","app/tools/PtxXmlTools.js","app/tools/SaveFile.js","mainComponents/toolbar/SaveButton.js","mainComponents/toolbar/DeleteButton.js","mainComponents/toolbar/DuplicateButton.js","mainComponents/toolbar/ChangeIdButton.js","mainComponents/toolbar/ShiftDateButton.js","circulationsComponents/toolbar/FanHeureDepartButton.js","circulationsComponents/toolbar/FanNumMarcheButton.js","circulationsComponents/toolbar/FanActionsDropdown.js","circulationsComponents/toolbar/CirculationsSpecificToolbar.js","mainComponents/toolbar/ObjectSpecificToolbar.js","mainComponents/toolbar/CurrentlyEditedLabel.js","mainComponents/toolbar/Toolbar.js","mainComponents/table/RowActions.js","circulationsComponents/tableRow/NumMarcheCellEditor.js","circulationsComponents/tableRow/HeureDepartCellEditor.js","circulationsComponents/tableRow/HeureArriveeCellEditor.js","app/tools/CodeTctTools.js","circulationsComponents/tableRow/CodeTctCellEditor.js","circulationsComponents/tableRow/CirculationRow.js","circulationsComponents/CirculationsTable.js","ptxComponents/tableRow/DateHeureDebutCellEditor.js","ptxComponents/tableRow/PtxRow.js","ptxComponents/PtxsTable.js","mainComponents/table/MainTable.js","mainComponents/modals/ShiftDateModal.js","circulationsComponents/modals/FanHeureDepartModal.js","circulationsComponents/modals/FanNumMarcheModal.js","circulationsComponents/modals/CirculationsSpecificModals.js","mainComponents/modals/Modals.js","App.js","app/reducers/circulationsById.js","app/reducers/ptxsById.js","app/reducers/main.js","app/reducers/index.js","app/store.js","index.js"],"names":["editedObject","clickOnRow","id","type","stopNumMarcheCellEdition","stopHeureDepartCellEdition","changeHeureDepart","heureDepart","stopHeureArriveeCellEdition","stopCodeTctCellEdition","stopDateHeureDebutCellEdition","SelectionButtonsGroup","ButtonGroup","className","this","props","OverlayTrigger","placement","delay","show","hide","overlay","Tooltip","Button","variant","disabled","onClick","dispatch","React","Component","connect","LoadButton","event","stopPropagation","preventDefault","Promise","all","Array","from","target","files","map","file","text","then","textArray","forEach","textFile","xmlText","size","isLoading","upload","click","ref","style","display","onChange","onChangeFile","bind","multiple","buttonText","state","main","loadingInfo","xmlParser","DOMParser","xmlSerializer","XMLSerializer","xmlTextToCirculationsObject","defaultCirculationObject","result","circulations","parseFromString","getElementsByTagName","circulation","currentId","hasChildNodes","childNodes","node","tagName","innerHTML","dateCreation","demandeur","localisation","parcours","serializeToString","mission","profilHoraire","profilDeCirculation","evenementsCirculation","etatCirculation","typeConvoi","typeGestion","renvoisStandards","parcoursTopologique","getNumMarche","withNumMarche","numMarche","xmlDom","getCodeTCT","withCodeTCT","tctId","tctCode","getHeureDepart","withHeureDepart","heureToWrite","Date","toISOString","slice","getDureeTrajet","detailHoraire","length","xmlTextToPtxObject","defaultPTxObject","ptxs","ptx","content","outerHTML","getPtxRessourcesInfraType","firstElementChild","getPtxRessourcesDescription","getDateHeureDebut","withDateHeureDebut","dateHeureDebut","config","require","dateStringForFileName","now","getFullYear","String","getMonth","padStart","getDate","getHours","getMinutes","SaveButton","fileName","handleValidate","fileType","circulationsById","Object","keys","circulationsText","getCirculationXmlText","concatAllCirculationsAsText","ptxsById","concatAllPtxsAsText","header","xml_header","footer","xml_footer","element","document","createElement","setAttribute","encodeURIComponent","body","appendChild","removeChild","saveAsXmlFile","trigger","rootClose","Popover","Title","as","Content","InputGroup","width","FormControl","defaultValue","aria-label","value","Append","getCurrentFileName","DeleteButton","DuplicateButton","ChangeIdButton","ShiftDateButton","handleShow","FanHeureDepartButton","DropdownItem","FanNumMarcheButton","FanActionsDropdown","DropdownButton","title","CirculationsSpecificToolbar","ObjectSpecificToolbar","CurrentlyEditedLabel","Badge","Navbar","bg","sticky","Collapse","RowActions","NumMarcheCellEditor","numMarcheEdit","onKeyDown","key","onKeyPress","HeureDepartCellEditor","parsedDate","dateEdited","timeEdited","toLocaleTimeString","newHeureDepart","HeureArriveeCellEditor","parsedHeureDepart","getTime","dureeTrajet","newHeureArrivee","tctCodeIdMap","CodeTctCellEditor","codeTctEdit","codeTCT","changeCodeTct","codeTct","CirculationRow","heureArrivee","selected","numMarcheEdited","codeTctEdited","heureDepartEdited","toLocaleDateString","heureArriveeEdited","ownProps","circulationsIdList","Table","hover","circulationId","DateHeureDebutCellEditor","heureDebut","newHeureDebut","PtxRow","ressourceInfraType","ressourceDescription","dateHeureDebutEdited","ptxsIdList","ptxId","MainTable","Container","marginTop","ShiftDateModal","startDay","startDate","startTime","goalDay","goalTime","handleClose","start","goal","shiftDateValidated","Modal","shown","onHide","Header","closeButton","Body","Form","Group","Label","Footer","selectedId","find","getSelectedId","shiftDateModal","undefined","getHeure","FanHeureDepartModal","increment","secondsIncrement","Control","step","placeholder","secondsInc","parseInt","secondsPart","isNaN","fanHeureDepartModal","FanNumMarcheModal","selectedNumMarche","fanNumMarcheModal","CirculationSpecificModals","fanHeureDepartShown","fanNumMarcheShown","ObjectSpecificModals","CirculationsSpecificModals","Modals","shiftDateShown","App","fluid","paddingLeft","paddingRight","extended","omit","keyToOmit","omittedPropObj","filterObject","object","filterFunction","filtered","duplicateSelectedCirculations","reduce","newId","uuidv1","changeIdSelectedCirculations","fanHeureDepart","currentDate","produce","draftState","setSeconds","getSeconds","fanNumMarche","shiftDate","delta","origDate","action","circulationsToAdd","defaultPtxObject","duplicateSelectedPtx","changeIdSelectedPtx","withId","ptxsToAdd","defaultState","toLoadCount","loadedCount","getXmlFileObject","searchedString","includes","reducer","edited","configureStore","ReactDOM","render","StrictMode","store","getElementById"],"mappings":"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","file":"static/js/main.6f505a90.chunk.js","sourcesContent":["export const editedObject = {\r\n    NONE: 'none',\r\n    CIRCULATIONS: 'circulations',\r\n    PTX: \"ptx\"\r\n}","export const submitXmlFile = (xmlText) => ({\r\n  type: 'XML_FILE_SUBMITED',\r\n  xmlText: xmlText\r\n})\r\n\r\nexport const selectAll = () => ({\r\n  type: 'SELECT_ALL'\r\n})\r\n\r\nexport const unselectAll = () => ({\r\n  type: 'UNSELECT_ALL'\r\n})\r\n\r\nexport const flipSelectionAll = () => ({\r\n  type: 'FLIP_SELECT_ALL'\r\n})\r\n\r\nexport const clickOnRow = (id) => ({\r\n  type: 'ROW_CLICKED_ON',\r\n  id: id\r\n})\r\n\r\nexport const deleteRow = (id) => ({\r\n  type: 'ROW_DELETED',\r\n  id: id\r\n})\r\n\r\nexport const deleteSelected = () => ({\r\n  type: 'DELETE_SELECTED_BUTTON_PRESSED',\r\n})\r\n\r\nexport const duplicateRow = (id) => ({\r\n  type: 'ROW_DUPLICATED',\r\n  id: id\r\n})\r\n\r\nexport const duplicateSelected = () => ({\r\n  type: 'DUPLICATE_SELECTED_BUTTON_PRESSED',\r\n})\r\n\r\nexport const changeIdSelected = () => ({\r\n  type: 'CHANGE_ID_SELECTED_BUTTON_PRESSED',\r\n})\r\n\r\nexport const shiftDateButtonClicked = () => ({\r\n  type: 'SHIFT_DATE_BUTTON_CLICKED',\r\n})\r\n\r\nexport const shiftDateClosed = () => ({\r\n  type: 'SHIFT_DATE_CLOSED'\r\n})\r\n\r\nexport const shiftDateValidated = (start, goal) =>  ({\r\n  type: 'SHIFT_DATE_VALIDATED',\r\n  start: start,\r\n  goal: goal\r\n})\r\n\r\nexport const changeCirculation = (id, circulation) => ({\r\n  type: 'CIRCULATION_CHANGED',\r\n  id: id,\r\n  circulation: circulation\r\n})\r\n\r\nexport const numMarcheCellClicked = (id) => ({\r\n  type: 'NUM_MARCHE_CELL_CLICKED',\r\n  id: id\r\n})\r\n\r\nexport const stopNumMarcheCellEdition = (id) => ({\r\n  type: 'STOP_NUM_MARCHE_CELL_EDITION',\r\n  id: id\r\n})\r\n\r\nexport const changeNumMarche = (id, numMarche) => ({\r\n  type: 'CIRCULATION_NUM_MARCHE_CHANGED',\r\n  id: id,\r\n  numMarche: numMarche\r\n})\r\n\r\nexport const heureDepartCellClicked = (id) => ({\r\n  type: 'HEURE_DEPART_CELL_CLICKED',\r\n  id: id\r\n})\r\n\r\nexport const stopHeureDepartCellEdition = (id) => ({\r\n  type: 'STOP_HEURE_DEPART_CELL_EDITION',\r\n  id: id\r\n})\r\n\r\nexport const changeHeureDepart = (id, heureDepart) => ({\r\n  type: 'CIRCULATION_HEURE_DEPART_CHANGED',\r\n  id: id,\r\n  heureDepart: heureDepart\r\n})\r\n\r\nexport const heureArriveeCellClicked = (id) => ({\r\n  type: 'HEURE_ARRIVEE_CELL_CLICKED',\r\n  id: id\r\n})\r\n\r\nexport const stopHeureArriveeCellEdition = (id) => ({\r\n  type: 'STOP_HEURE_ARRIVEE_CELL_EDITION',\r\n  id: id\r\n})\r\n\r\nexport const codeTctCellClicked = (id) => ({\r\n  type: 'TCT_CELL_CLICKED',\r\n  id: id\r\n})\r\n\r\nexport const stopCodeTctCellEdition = (id) => ({\r\n  type: 'STOP_TCT_CELL_EDITION',\r\n  id: id\r\n})\r\n\r\nexport const changeCodeTct = (id, tctId, tctCode) => ({\r\n  type: 'CIRCULATION_TCT_CHANGED',\r\n  id: id,\r\n  tctId: tctId,\r\n  tctCode: tctCode\r\n})\r\n\r\nexport const fanHeureDepartButtonClicked = () => ({\r\n  type: 'FAN_HEURE_DEPART_BUTTON_CLICKED',\r\n})\r\n\r\nexport const fanHeureDepartClosed = () => ({\r\n  type: 'FAN_HEURE_DEPART_CLOSED'\r\n})\r\n\r\nexport const fanHeureDepartValidated = (start, secondsIncrement) =>  ({\r\n  type: 'FAN_HEURE_DEPART_VALIDATED',\r\n  start: start,\r\n  secondsIncrement: secondsIncrement\r\n})\r\n\r\nexport const fanNumMarcheButtonClicked = () => ({\r\n  type: 'FAN_NUM_MARCHE_BUTTON_CLICKED',\r\n})\r\n\r\nexport const fanNumMarcheClosed = () => ({\r\n  type: 'FAN_NUM_MARCHE_CLOSED'\r\n})\r\n\r\nexport const fanNumMarcheValidated = (start, increment) =>  ({\r\n  type: 'FAN_NUM_MARCHE_VALIDATED',\r\n  start: start,\r\n  increment: increment\r\n})\r\n\r\nexport const dateHeureDebutCellClicked = (id) => ({\r\n  type: 'DATE_HEURE_DEBUT_CELL_CLICKED',\r\n  id: id\r\n})\r\n\r\nexport const stopDateHeureDebutCellEdition = (id) => ({\r\n  type: 'STOP_DATE_HEURE_DEBUT_CELL_EDITION',\r\n  id: id\r\n})\r\n\r\nexport const changeDateHeureDebut = (id, heureDebut) => ({\r\n  type: 'DATE_HEURE_DEBUT_CHANGED',\r\n  id: id,\r\n  dateHeureDebut: heureDebut\r\n})","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { selectAll, unselectAll, flipSelectionAll } from '../../app/actions'\r\n\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\n\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { ListCheck, ListTask, CircleHalf } from 'react-bootstrap-icons';\r\n\r\nclass SelectionButtonsGroup extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <ButtonGroup className={this.props.className}>\r\n        <OverlayTrigger\r\n          placement=\"bottom\"\r\n          delay={{ show: 250, hide: 400 }}\r\n          overlay={(props) => (\r\n            <Tooltip id=\"select-all-tooltip\" {...props}>\r\n              Tout sélectionner\r\n            </Tooltip>)}\r\n        >\r\n          <Button variant=\"light\" disabled={this.props.disabled}\r\n            onClick={() => { this.props.dispatch(selectAll()) }}>\r\n            <ListCheck />\r\n          </Button >\r\n        </OverlayTrigger>\r\n        <OverlayTrigger\r\n          placement=\"bottom\"\r\n          delay={{ show: 250, hide: 400 }}\r\n          overlay={(props) => (\r\n            <Tooltip id=\"unselect-all-tooltip\" {...props}>\r\n              Tout déselectionner\r\n            </Tooltip>)}\r\n        >\r\n          <Button variant=\"light\" disabled={this.props.disabled}\r\n            onClick={() => { this.props.dispatch(unselectAll()) }}>\r\n            <ListTask />\r\n          </Button >\r\n        </OverlayTrigger>\r\n        <OverlayTrigger\r\n          placement=\"bottom\"\r\n          delay={{ show: 250, hide: 400 }}\r\n          overlay={(props) => (\r\n            <Tooltip id=\"flip-selection-tooltip\" {...props}>\r\n              Inverser la sélection\r\n            </Tooltip>)}\r\n        >\r\n          <Button variant=\"light\" disabled={this.props.disabled}\r\n            onClick={() => { this.props.dispatch(flipSelectionAll()) }}>\r\n            <CircleHalf />\r\n          </Button>\r\n        </OverlayTrigger>\r\n      </ButtonGroup>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default connect()(SelectionButtonsGroup)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { submitXmlFile } from '../../app/actions'\r\n\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Download } from 'react-bootstrap-icons';\r\n\r\nclass LoadButton extends React.Component {\r\n\r\n  onChangeFile(event) {\r\n    event.stopPropagation();\r\n    event.preventDefault();\r\n    Promise.all(Array.from(event.target.files).map((file) => { return file.text(); }))\r\n      .then(textArray => {\r\n        textArray.forEach(textFile => { this.props.dispatch(submitXmlFile(textFile)); });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <OverlayTrigger\r\n        placement=\"bottom\"\r\n        delay={{ show: 250, hide: 400 }}\r\n        overlay={(props) => (\r\n          <Tooltip id=\"load-button-tooltip\" {...props}>\r\n            Charger un ou plusieurs fichiers à éditer\r\n          </Tooltip>)}\r\n      >\r\n        <Button variant=\"primary\" className={this.props.className} size={this.props.size}\r\n          disabled={this.props.isLoading}\r\n          onClick={() => { if (!this.props.isLoading) { this.upload.click() } }}>\r\n          <input type=\"file\" id=\"circulationsFiles\"\r\n            ref={(ref) => this.upload = ref}\r\n            style={{ display: \"none\" }}\r\n            onChange={this.onChangeFile.bind(this)} multiple />\r\n          <Download />\r\n          {this.props.buttonText}\r\n        </Button >\r\n      </OverlayTrigger>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nconst mapState = (state) => {\r\n  return { isLoading: state.main.loadingInfo.isLoading }\r\n}\r\n\r\nexport default connect(mapState)(LoadButton)","const xmlParser = new DOMParser();\r\nconst xmlSerializer = new XMLSerializer();\r\n\r\nexport const xmlTextToCirculationsObject = (xmlText, defaultCirculationObject) => {\r\n  let result = { };\r\n  let xmlDoc = xmlParser.parseFromString(xmlText, \"application/xml\");\r\n  let circulations = xmlDoc.getElementsByTagName(\"Circulation\");\r\n\r\n  Array.from(circulations).forEach((circulation) => {\r\n    var currentId = 0;\r\n    if (circulation.hasChildNodes) {\r\n      circulation.childNodes.forEach((node) => {\r\n        switch (node.tagName) {\r\n          case \"id\":\r\n            currentId = node.innerHTML;\r\n            result[currentId] = {\r\n              ...defaultCirculationObject,\r\n              id: node.innerHTML,\r\n            };\r\n            break;\r\n          case \"dateCreation\":\r\n            result[currentId].dateCreation = node.innerHTML;\r\n            break;\r\n          case \"demandeur\":\r\n            result[currentId].demandeur = node.innerHTML;\r\n            break;\r\n          case \"localisation\":\r\n            result[currentId].localisation = node.innerHTML;\r\n            break;\r\n          case \"Parcours\":\r\n            result[currentId].parcours = xmlSerializer.serializeToString(node);\r\n            break;\r\n          case \"Mission\":\r\n            result[currentId].mission = xmlSerializer.serializeToString(node);\r\n            break;\r\n          case \"ProfilHoraire\":\r\n            result[currentId].profilHoraire = xmlSerializer.serializeToString(node);\r\n            break;\r\n          case \"ProfilDeCirculation\":\r\n            result[currentId].profilDeCirculation = xmlSerializer.serializeToString(node);\r\n            break;\r\n          case \"evenementsCirculation\":\r\n            result[currentId].evenementsCirculation = xmlSerializer.serializeToString(node);\r\n            break;\r\n          case \"EtatCirculation\":\r\n            result[currentId].etatCirculation = xmlSerializer.serializeToString(node);\r\n            break;\r\n          case \"TypeConvoi\":\r\n            result[currentId].typeConvoi = xmlSerializer.serializeToString(node);\r\n            break;\r\n          case \"TypeGestion\":\r\n            result[currentId].typeGestion = xmlSerializer.serializeToString(node);\r\n            break;\r\n          case \"renvoisStandards\":\r\n            result[currentId].renvoisStandards = xmlSerializer.serializeToString(node);\r\n            break;\r\n          case \"ParcoursTopologique\":\r\n            result[currentId].parcoursTopologique = xmlSerializer.serializeToString(node);\r\n            break;\r\n          default:\r\n            return;\r\n        }\r\n      })\r\n    }\r\n  })\r\n\r\n  return result;\r\n}\r\n\r\nexport const getNumMarche = (circulation) => {\r\n    let xmlDom = xmlParser.parseFromString(circulation.etatCirculation, \"application/xml\");\r\n    return xmlDom.getElementsByTagName(\"numMarcheOrigine\")[0].innerHTML;\r\n}\r\n\r\nexport const withNumMarche = (circulation, numMarche) => {\r\n  let xmlDom = xmlParser.parseFromString(circulation.etatCirculation, \"application/xml\");\r\n  xmlDom.getElementsByTagName(\"numMarcheOrigine\")[0].innerHTML = numMarche;\r\n  return ({\r\n    ...circulation,\r\n    etatCirculation: xmlSerializer.serializeToString(xmlDom) \r\n  })\r\n}\r\n\r\nexport const getCodeTCT = (circulation) => {\r\n    let xmlDom = xmlParser.parseFromString(circulation.typeGestion, \"application/xml\");\r\n    return xmlDom.getElementsByTagName(\"tct\")[0].getElementsByTagName(\"libelle\")[0].innerHTML;\r\n}\r\n\r\nexport const withCodeTCT = (circulation, tctId, tctCode) => {\r\n    let xmlDom = xmlParser.parseFromString(circulation.typeGestion, \"application/xml\");\r\n    xmlDom.getElementsByTagName(\"tct\")[0].getElementsByTagName(\"id\")[0].innerHTML = tctId;\r\n    xmlDom.getElementsByTagName(\"tct\")[0].getElementsByTagName(\"code\")[0].innerHTML = tctCode;\r\n    xmlDom.getElementsByTagName(\"tct\")[0].getElementsByTagName(\"libelle\")[0].innerHTML = tctCode;\r\n    return ({\r\n      ...circulation,\r\n      typeGestion: xmlSerializer.serializeToString(xmlDom) \r\n    })\r\n}\r\nexport const getHeureDepart = (circulation) => {\r\n    let xmlDom = xmlParser.parseFromString(circulation.etatCirculation, \"application/xml\");\r\n    return xmlDom.getElementsByTagName(\"dateHeureOrigine\")[0].innerHTML;\r\n}\r\n\r\nexport const withHeureDepart = (circulation, heureDepart) => {\r\n    let heureToWrite = new Date(heureDepart);\r\n    let xmlDom = xmlParser.parseFromString(circulation.etatCirculation, \"application/xml\");\r\n    xmlDom.getElementsByTagName(\"dateHeureOrigine\")[0].innerHTML = heureToWrite.toISOString().slice(0,-5)+\"Z\";\r\n    return ({\r\n      ...circulation,\r\n      etatCirculation: xmlSerializer.serializeToString(xmlDom) \r\n    })\r\n}\r\n\r\nexport const getDureeTrajet = (circulation) => {\r\n  let xmlDom = xmlParser.parseFromString(circulation.profilHoraire, \"application/xml\");\r\n  let detailHoraire = xmlDom.getElementsByTagName(\"detailsHoraire\")[0]\r\n    .getElementsByTagName(\"DetailHoraire\");\r\n  return detailHoraire[detailHoraire.length - 1].getElementsByTagName(\"tempsDepuisOrigine\")[0].innerHTML;\r\n}\r\n\r\nexport const getDepart = (circulation) => {\r\n    let xmlDom = xmlParser.parseFromString(circulation.mission, \"application/xml\");\r\n    return xmlDom.getElementsByTagName(\"etapesMission\")[0]\r\n        .getElementsByTagName(\"EtapeMission\")[0]\r\n        .getElementsByTagName(\"pr\")[0].getAttribute(\"id\");\r\n}\r\n\r\nexport const getArrivee = (circulation) => {\r\n    let xmlDom = xmlParser.parseFromString(circulation.mission, \"application/xml\");\r\n    const Etapes = xmlDom.getElementsByTagName(\"etapesMission\")[0]\r\n        .getElementsByTagName(\"EtapeMission\");\r\n    return Etapes[Etapes.length - 1].getElementsByTagName(\"pr\")[0].getAttribute(\"id\");\r\n}\r\n\r\nexport const getCirculationXmlText = (circulation) => {\r\n  var circulationsText = \"<Circulation>\\n\";\r\n\r\n  circulationsText += \"<id>\" + circulation.id + \"</id>\\n\";\r\n  circulationsText += \"<dateCreation>\" + circulation.dateCreation + \"</dateCreation>\\n\";\r\n  circulationsText += \"<demandeur>\" + circulation.demandeur + \"</demandeur>\\n\"\r\n  circulationsText += \"<localisation>\" + circulation.localisation + \"</localisation>\\n\";\r\n  circulationsText += circulation.parcours + \"\\n\";\r\n  circulationsText += circulation.mission + \"\\n\";\r\n  circulationsText += circulation.profilHoraire + \"\\n\";\r\n  circulationsText += circulation.profilDeCirculation + \"\\n\";\r\n  circulationsText += circulation.evenementsCirculation + \"\\n\";\r\n  circulationsText += circulation.etatCirculation + \"\\n\";\r\n  circulationsText += circulation.typeConvoi + \"\\n\";\r\n  circulationsText += circulation.typeGestion + \"\\n\";\r\n  circulationsText += circulation.renvoisStandards + \"\\n\";\r\n  circulationsText += circulation.parcoursTopologique + \"\\n\";\r\n\r\n  circulationsText += \"</Circulation>\\n\";\r\n\r\n  return circulationsText;\r\n}\r\n\r\nexport const concatAllCirculationsAsText = (circulationsById) => {\r\n  var text = \"<circulations>\\n\";\r\n\r\n  Object.keys(circulationsById).forEach((id) => {\r\n      text += getCirculationXmlText(circulationsById[id]);\r\n  });\r\n\r\n  text += \"</circulations>\";\r\n  return text;\r\n}","const xmlParser = new DOMParser();\r\nconst xmlSerializer = new XMLSerializer();\r\n\r\nexport const xmlTextToPtxObject = (xmlText, defaultPTxObject) => {\r\n  let result = {};\r\n  let xmlDoc = xmlParser.parseFromString(xmlText, \"application/xml\");\r\n  let ptxs = xmlDoc.getElementsByTagName(\"PlancheTravaux\");\r\n\r\n  Array.from(ptxs).forEach((ptx) => {\r\n    var currentId = ptx.getElementsByTagName(\"id\")[0].innerHTML;\r\n    result[currentId] = {\r\n      id: currentId,\r\n      content: ptx.outerHTML,\r\n      ...defaultPTxObject\r\n    }\r\n  })\r\n\r\n  return result;\r\n}\r\n\r\nexport const concatAllPtxsAsText = (ptxsById) => {\r\n  var text = \"<planchesTravaux>\\n\";\r\n\r\n  Object.keys(ptxsById).forEach((id) => {\r\n    text += ptxsById[id].content;\r\n  });\r\n\r\n  text += \"</planchesTravaux>\";\r\n  return text;\r\n}\r\n\r\nexport const getPtxRessourcesInfraType = (ptx) => {\r\n  let xmlDom = xmlParser.parseFromString(ptx.content, \"application/xml\");\r\n  let ressourcesType = xmlDom.getElementsByTagName(\"ressourcesInfra\")[0].firstElementChild.tagName;\r\n  return ressourcesType;\r\n}\r\n\r\nexport const getPtxRessourcesDescription = (ptx) => {\r\n  let xmlDom = xmlParser.parseFromString(ptx.content, \"application/xml\");\r\n  return xmlDom.getElementsByTagName(\"ressourcesInfra\")[0].firstElementChild.getElementsByTagName(\"libelle\")[0].innerHTML;\r\n}\r\n\r\nexport const getDateHeureDebut = (ptx) => {\r\n  let xmlDom = xmlParser.parseFromString(ptx.content, \"application/xml\");\r\n  return xmlDom.getElementsByTagName(\"dateHeureDebut\")[0].innerHTML;\r\n}\r\n\r\nexport const withDateHeureDebut = (ptx, dateHeureDebut) => {\r\n  let heureToWrite = new Date(dateHeureDebut);\r\n  let xmlDom = xmlParser.parseFromString(ptx.content, \"application/xml\");\r\n  xmlDom.getElementsByTagName(\"dateHeureDebut\")[0].innerHTML = heureToWrite.toISOString().slice(0, -5) + \"Z\";\r\n  return ({\r\n    ...ptx,\r\n    content: xmlSerializer.serializeToString(xmlDom)\r\n  })\r\n}\r\n\r\nexport const withId = (ptx, id) => {\r\n  let xmlDom = xmlParser.parseFromString(ptx.content, \"application/xml\");\r\n  xmlDom.getElementsByTagName(\"id\")[0].innerHTML = id;\r\n  return ({\r\n    ...ptx,\r\n    id: id,\r\n    content: xmlSerializer.serializeToString(xmlDom)\r\n  })\r\n}","const config = require('../../config/config.json') \r\n\r\nexport const saveAsXmlFile = (fileName, content) => {\r\n    const header = config.xml_header;\r\n    const footer = config.xml_footer;\r\n\r\n    var element = document.createElement('a');\r\n    element.setAttribute('href',\r\n        'data:application/xml;charset=utf-8,' + encodeURIComponent(header + content + footer));\r\n    element.setAttribute('download', fileName);\r\n\r\n    element.style.display = 'none';\r\n    document.body.appendChild(element);\r\n\r\n    element.click();\r\n\r\n    document.body.removeChild(element);\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport Popover from 'react-bootstrap/Popover'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Upload } from 'react-bootstrap-icons';\r\n\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport { Check } from 'react-bootstrap-icons';\r\n\r\nimport { editedObject } from '../../app/enum'\r\nimport { concatAllCirculationsAsText } from '../../app/tools/CirculationXmlTools'\r\nimport { concatAllPtxsAsText } from '../../app/tools/PtxXmlTools'\r\nimport { saveAsXmlFile } from '../../app/tools/SaveFile'\r\n\r\nconst dateStringForFileName = () => {\r\n    let now = new Date();\r\n    var result = \"\";\r\n\r\n    result += now.getFullYear();\r\n    result += String(now.getMonth()).padStart(2, '0')\r\n    result += String(now.getDate()).padStart(2, '0');\r\n    result += \"T\";\r\n    result += String(now.getHours()).padStart(2, '0');\r\n    result += String(now.getMinutes()).padStart(2, '0');\r\n\r\n    return result;\r\n}\r\n\r\nclass SaveButton extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.fileName = dateStringForFileName() + \"_circulations.xml\";\r\n        this.handleValidate = this.handleValidate.bind(this);\r\n    }\r\n\r\n    getCurrentFileName() {\r\n        var fileType = this.props.editedObject;\r\n        return dateStringForFileName() + \"_\" + fileType + \".xml\";\r\n    }\r\n\r\n    handleValidate() {\r\n        var xmlText = \"\";\r\n\r\n        switch (this.props.editedObject) {\r\n            case editedObject.CIRCULATIONS:\r\n                xmlText = concatAllCirculationsAsText(this.props.circulations);\r\n                break;\r\n            case editedObject.PTX:\r\n                xmlText = concatAllPtxsAsText(this.props.ptxs);\r\n                break;\r\n            default:\r\n                xmlText = \"\";\r\n        }\r\n\r\n        saveAsXmlFile(this.fileName, xmlText);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <OverlayTrigger\r\n                placement=\"bottom\"\r\n                delay={{ show: 100, hide: 100 }}\r\n                trigger=\"click\"\r\n                rootClose={ true }\r\n                overlay={(props) => (\r\n                    <Popover id=\"save-name-popover\" placement=\"bottom\" {...props}>\r\n                        <Popover.Title as=\"h3\">Nom du fichier</Popover.Title>\r\n                        <Popover.Content>\r\n                            <InputGroup className={this.props.className} style={{ width: 300 }}>\r\n                                <FormControl\r\n                                    defaultValue={this.fileName}\r\n                                    aria-label=\"Nom du fichier\"\r\n                                    onChange={(event) => { this.fileName = event.target.value }}\r\n                                    onClick={(event) => { event.stopPropagation() }}\r\n                                />\r\n                                <InputGroup.Append>\r\n                                    <Button variant=\"success\"\r\n                                        onClick={(event) => {\r\n                                            this.handleValidate();\r\n                                            event.stopPropagation();\r\n                                        }}>\r\n                                        <Check />\r\n                                    </Button >\r\n                                </InputGroup.Append>\r\n                            </InputGroup>\r\n                        </Popover.Content>\r\n                    </Popover>\r\n                )}\r\n            >\r\n                <Button variant=\"success\" className={this.props.className}\r\n                onClick={() => { this.fileName = this.getCurrentFileName(); }}\r\n                disabled={this.props.editedObject === editedObject.NONE}\r\n                >\r\n                    <Upload />\r\n                </Button >\r\n            </OverlayTrigger>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return ({\r\n        editedObject : state.editedObject,\r\n        circulations: state.circulationsById,\r\n        ptxs: state.ptxsById,\r\n    })\r\n}\r\n\r\nexport default connect(mapStateToProps)(SaveButton)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { deleteSelected } from '../../app/actions'\r\n\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Trash } from 'react-bootstrap-icons';\r\n\r\nclass DeleteButton extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <OverlayTrigger\r\n        placement=\"bottom\"\r\n        delay={{ show: 250, hide: 400 }}\r\n        overlay={(props) => (\r\n          <Tooltip id=\"button-tooltip\" {...props}>\r\n            Supprimer\r\n          </Tooltip>)}\r\n      >\r\n        <Button variant=\"light\" className={this.props.className}\r\n          disabled={this.props.disabled}\r\n          onClick={() => { this.props.dispatch(deleteSelected()) }}>\r\n          <Trash />\r\n        </Button >\r\n      </OverlayTrigger>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default connect()(DeleteButton)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { duplicateSelected } from '../../app/actions'\r\n\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Files } from 'react-bootstrap-icons';\r\n\r\nclass DuplicateButton extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <OverlayTrigger\r\n        placement=\"bottom\"\r\n        delay={{ show: 250, hide: 400 }}\r\n        overlay={(props) => (\r\n          <Tooltip id=\"duplicate-button-tooltip\" {...props}>\r\n            Dupliquer\r\n          </Tooltip>)}\r\n      >\r\n        <Button variant=\"light\" className={this.props.className}\r\n          disabled={this.props.disabled}\r\n          onClick={() => { this.props.dispatch(duplicateSelected()) }}>\r\n          <Files />\r\n        </Button >\r\n      </OverlayTrigger>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default connect()(DuplicateButton)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { changeIdSelected } from '../../app/actions'\r\n\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Code } from 'react-bootstrap-icons';\r\n\r\nclass ChangeIdButton extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <OverlayTrigger\r\n        placement=\"bottom\"\r\n        delay={{ show: 250, hide: 400 }}\r\n        overlay={(props) => (\r\n          <Tooltip id=\"changeid-button-tooltip\" {...props}>\r\n            Affecter un nouveau GUID\r\n          </Tooltip>)}\r\n      >\r\n        <Button variant=\"light\" className={this.props.className}\r\n          disabled={this.props.disabled}\r\n          onClick={() => { this.props.dispatch(changeIdSelected()) }}>\r\n          <Code />\r\n        </Button >\r\n      </OverlayTrigger>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default connect()(ChangeIdButton)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { shiftDateButtonClicked } from '../../app/actions'\r\n\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport { BoxArrowRight } from 'react-bootstrap-icons'\r\n\r\nclass ShiftDateButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // These bindings are necessary to make `this` work in the callback    \r\n        this.handleShow = this.handleShow.bind(this);\r\n    }\r\n\r\n    handleShow(event) {\r\n        this.props.dispatch(shiftDateButtonClicked());\r\n        event.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <OverlayTrigger\r\n                placement=\"bottom\"\r\n                delay={{ show: 250, hide: 400 }}\r\n                overlay={(props) => (\r\n                    <Tooltip id=\"shift-date-tooltip\" {...props}>\r\n                        Déplacer la date et l'heure\r\n                    </Tooltip>)}>\r\n                <Button variant=\"light\" className={this.props.className} \r\n                    disabled={this.props.disabled} onClick={this.handleShow}>\r\n                    <BoxArrowRight />\r\n                </Button>\r\n            </OverlayTrigger >\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect()(ShiftDateButton)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { fanHeureDepartButtonClicked } from '../../app/actions'\r\n\r\nimport DropdownItem from 'react-bootstrap/DropdownItem'\r\n\r\nclass FanHeureDepartButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // These bindings are necessary to make `this` work in the callback    \r\n        this.handleShow = this.handleShow.bind(this);\r\n    }\r\n\r\n    handleShow(event) {\r\n        this.props.dispatch(fanHeureDepartButtonClicked());\r\n        event.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <DropdownItem variant=\"light\" onClick={this.handleShow}>\r\n                Heure départ\r\n            </DropdownItem>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect()(FanHeureDepartButton)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { fanNumMarcheButtonClicked } from '../../app/actions'\r\n\r\nimport DropdownItem from 'react-bootstrap/DropdownItem'\r\n\r\nclass FanNumMarcheButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // These bindings are necessary to make `this` work in the callback    \r\n        this.handleShow = this.handleShow.bind(this);\r\n    }\r\n\r\n    handleShow(event) {\r\n        this.props.dispatch(fanNumMarcheButtonClicked());\r\n        event.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <DropdownItem onClick={this.handleShow}>\r\n                Numéro de marche\r\n            </DropdownItem>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect()(FanNumMarcheButton)","import React from 'react'\r\n\r\nimport Tooltip from 'react-bootstrap/Tooltip'\r\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger'\r\n\r\nimport DropdownButton from 'react-bootstrap/DropdownButton'\r\nimport { ListNested } from 'react-bootstrap-icons';\r\n\r\nimport FanHeureDepartButton from './FanHeureDepartButton'\r\nimport FanNumMarcheButton from './FanNumMarcheButton'\r\n\r\nclass FanActionsDropdown extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <OverlayTrigger\r\n        placement=\"right\"\r\n        delay={{ show: 250, hide: 400 }}\r\n        overlay={(props) => (\r\n          <Tooltip id=\"fan-dropdown-tooltip\" {...props}>\r\n            Répartir pour la sélection\r\n          </Tooltip>)}\r\n      >\r\n        <DropdownButton variant=\"light\" title={<ListNested />}>\r\n            <FanNumMarcheButton />\r\n            <FanHeureDepartButton />\r\n        </DropdownButton>\r\n      </OverlayTrigger>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default FanActionsDropdown","import React from 'react';\r\n\r\nimport FanActionsDropdown from './FanActionsDropdown'\r\n\r\nconst CirculationsSpecificToolbar = () => (\r\n        <FanActionsDropdown />\r\n)\r\n\r\nexport default CirculationsSpecificToolbar;\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { editedObject } from '../../app/enum'\r\nimport CirculationsSpecificToolbar from '../../circulationsComponents/toolbar/CirculationsSpecificToolbar'\r\n\r\nclass ObjectSpecificToolbar extends React.Component {\r\n\r\n    render() {\r\n        switch (this.props.editedObject) {\r\n            case editedObject.CIRCULATIONS:\r\n                return (<CirculationsSpecificToolbar />);\r\n            case editedObject.NONE:\r\n            default:\r\n                return (<></>);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst mapState = (state) => {\r\n    return { editedObject: state.editedObject }\r\n}\r\n\r\nexport default connect(mapState)(ObjectSpecificToolbar)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport Badge from 'react-bootstrap/Badge'\r\nimport { editedObject } from '../../app/enum'\r\n\r\nclass CurrentlyEditedLabel extends React.Component {\r\n\r\n    render() {\r\n        switch (this.props.editedObject) {\r\n            case editedObject.CIRCULATIONS:\r\n                return (<Badge variant=\"primary\" {...this.props}>Circulations</Badge>);\r\n            case editedObject.PTX:\r\n                return (<Badge variant=\"warning\" {...this.props}>PTX</Badge>);\r\n            case editedObject.NONE:\r\n            default:\r\n                return (<></>);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst mapState = (state) => {\r\n    return { editedObject: state.editedObject }\r\n}\r\n\r\nexport default connect(mapState)(CurrentlyEditedLabel)","import React from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport Navbar from 'react-bootstrap/Navbar'\r\nimport ButtonGroup from 'react-bootstrap/ButtonGroup'\r\n\r\nimport { editedObject } from '../../app/enum'\r\n\r\nimport SelectionButtonsGroup from './SelectionButtonsGroup'\r\nimport LoadButton from './LoadButton'\r\nimport SaveButton from './SaveButton'\r\nimport DeleteButton from './DeleteButton'\r\nimport DuplicateButton from './DuplicateButton'\r\nimport ChangeIdButton from './ChangeIdButton'\r\nimport ShiftDateButton from './ShiftDateButton'\r\nimport ObjectSpecificToolbar from './ObjectSpecificToolbar'\r\nimport CurrentlyEditedLabel from './CurrentlyEditedLabel'\r\n\r\nconst Toolbar = (props) => (\r\n    <Navbar bg=\"dark\" sticky=\"top\">\r\n        <LoadButton className=\"mr-2\" />\r\n        <SelectionButtonsGroup className=\"mr-2\" disabled={props.editedObject === editedObject.NONE} />\r\n        <ButtonGroup className=\"mr-2\">\r\n            <DuplicateButton disabled={props.editedObject === editedObject.NONE} />\r\n            <DeleteButton disabled={props.editedObject === editedObject.NONE} />\r\n        </ButtonGroup>\r\n        <ChangeIdButton className=\"mr-2\"disabled={props.editedObject === editedObject.NONE} />\r\n\r\n        <ShiftDateButton className=\"mr-2\" disabled={props.editedObject === editedObject.NONE } />\r\n        <ObjectSpecificToolbar />\r\n\r\n        <Navbar.Collapse className=\"justify-content-end\">\r\n            <CurrentlyEditedLabel className=\"mr-sm-3\" />\r\n            <SaveButton fileName=\"circulations.xml\" />\r\n        </Navbar.Collapse>\r\n    </Navbar>\r\n)\r\n\r\nconst mapState = (state) => {\r\n    return { editedObject: state.editedObject }\r\n}\r\n\r\nexport default connect(mapState)(Toolbar)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { duplicateRow } from '../../app/actions'\r\nimport { deleteRow } from '../../app/actions'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Files } from 'react-bootstrap-icons';\r\nimport { Trash } from 'react-bootstrap-icons';\r\n\r\nclass RowActions extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <div className={this.props.className}>\r\n        <Button\r\n          onClick={(event) => {\r\n            this.props.dispatch(duplicateRow(this.props.id));\r\n            event.stopPropagation();\r\n          }}\r\n          variant=\"outline-dark\" size=\"sm\"\r\n          className=\"mr-1 py-0 btn-xs\" >\r\n          <Files />\r\n        </Button>\r\n        <Button\r\n          onClick={(event) => {\r\n            this.props.dispatch(deleteRow(this.props.id));\r\n            event.stopPropagation();\r\n          }}\r\n          variant=\"outline-dark\" size=\"sm\"\r\n          className=\"py-0 btn-xs\" >\r\n          <Trash />\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default connect()(RowActions)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { changeNumMarche, stopNumMarcheCellEdition } from '../../app/actions'\r\n\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport { Check } from 'react-bootstrap-icons';\r\n\r\nclass NumMarcheCellEditor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.numMarcheEdit = props.numMarche;\r\n\r\n        // This binding is necessary to make `this` work in the callback    \r\n        this.handleValidate = this.handleValidate.bind(this);\r\n    }\r\n\r\n    handleValidate() {\r\n        if (this.props.numMarche !== this.numMarcheEdit) {\r\n            this.props.dispatch(\r\n                changeNumMarche(this.props.id, this.numMarcheEdit));\r\n        } else {\r\n            this.props.dispatch(\r\n                stopNumMarcheCellEdition(this.props.id));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <InputGroup className={this.props.className}>\r\n                <FormControl\r\n                    defaultValue={this.props.numMarche}\r\n                    aria-label=\"Numéro de marche\"\r\n                    onChange={(event) => { this.numMarcheEdit = event.target.value }}\r\n                    onClick={(event) => { event.stopPropagation() }}\r\n                    onKeyDown={(event) => { \r\n                        if (event.key === \"Escape\") {\r\n                        this.props.dispatch(stopNumMarcheCellEdition(this.props.id));\r\n                    }}}\r\n                    onKeyPress={(event) => {\r\n                        if (event.key === \"Enter\") {\r\n                            this.handleValidate();\r\n                    }}}\r\n                />\r\n                <InputGroup.Append>\r\n                    <Button variant=\"success\"\r\n                        onClick={(event) => {\r\n                            this.handleValidate();\r\n                            event.stopPropagation();\r\n                        }}>\r\n                        <Check />\r\n                    </Button >\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect()(NumMarcheCellEditor)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { changeHeureDepart, stopHeureDepartCellEdition } from '../../app/actions'\r\n\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport { Check } from 'react-bootstrap-icons';\r\n\r\nclass HeureDepartCellEditor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let parsedDate = new Date(props.heureDepart);\r\n        this.dateEdited = parsedDate.toISOString().slice(0, 10);\r\n        this.timeEdited = parsedDate.toLocaleTimeString('fr-FR');\r\n\r\n        // This binding is necessary to make `this` work in the callback    \r\n        this.handleValidate = this.handleValidate.bind(this);\r\n    }\r\n\r\n    handleValidate() {\r\n        let newHeureDepart = new Date(\r\n            this.dateEdited + \" \" + this.timeEdited);\r\n        if (newHeureDepart !== this.props.heureDepart) {\r\n            this.props.dispatch(changeHeureDepart(\r\n                this.props.id, newHeureDepart.toISOString()))\r\n\r\n        } else {\r\n            this.props.dispatch(stopHeureDepartCellEdition(this.props.id));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.props.className}>\r\n                <InputGroup>\r\n                    <FormControl\r\n                        defaultValue={this.dateEdited}\r\n                        aria-label=\"Date de départ\"\r\n                        type=\"date\"\r\n                        onChange={(event) => {\r\n                            this.dateEdited = event.target.value\r\n                        }}\r\n                        onClick={(event) => { event.stopPropagation() }}\r\n                        onKeyDown={(event) => {\r\n                            if (event.key === \"Escape\") {\r\n                                this.props.dispatch(stopHeureDepartCellEdition(this.props.id));\r\n                            }\r\n                        }}\r\n                        onKeyPress={(event) => {\r\n                            if (event.key === \"Enter\") {\r\n                                this.handleValidate();\r\n                            }\r\n                        }}\r\n                    />\r\n                    <FormControl\r\n                        defaultValue={this.timeEdited}\r\n                        aria-label=\"Heure de départ\"\r\n                        type=\"time\"\r\n                        onChange={(event) => { this.timeEdited = event.target.value }}\r\n                        onClick={(event) => { event.stopPropagation() }}\r\n                        onKeyDown={(event) => {\r\n                            if (event.key === \"Escape\") {\r\n                                this.props.dispatch(stopHeureDepartCellEdition(this.props.id));\r\n                            }\r\n                        }}\r\n                        onKeyPress={(event) => {\r\n                            if (event.key === \"Enter\") {\r\n                                this.handleValidate();\r\n                            }\r\n                        }}\r\n                    />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"success\"\r\n                            onClick={(event) => {\r\n                                this.handleValidate();\r\n                                event.stopPropagation();\r\n                            }}>\r\n                            <Check />\r\n                        </Button >\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect()(HeureDepartCellEditor)\r\n","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { changeHeureDepart, stopHeureArriveeCellEdition } from '../../app/actions'\r\n\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport { Check } from 'react-bootstrap-icons';\r\n\r\nclass HeureArriveeCellEditor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let parsedHeureDepart = new Date(props.heureDepart);\r\n        let parsedDate = new Date(parsedHeureDepart.getTime() + 1000 * props.dureeTrajet); \r\n        this.dateEdited = parsedDate.toISOString().slice(0, 10);\r\n        this.timeEdited = parsedDate.toLocaleTimeString('fr-FR');\r\n\r\n        // This binding is necessary to make `this` work in the callback    \r\n        this.handleValidate = this.handleValidate.bind(this);\r\n    }\r\n\r\n    handleValidate() {\r\n        let newHeureArrivee = new Date(this.dateEdited + \" \" + this.timeEdited);\r\n        let newHeureDepart = new Date(newHeureArrivee.getTime() - 1000 * this.props.dureeTrajet);\r\n        if (newHeureDepart !== this.props.heureDepart) {\r\n            this.props.dispatch(changeHeureDepart(\r\n                this.props.id, newHeureDepart.toISOString()))\r\n\r\n        } else {\r\n            this.props.dispatch(stopHeureArriveeCellEdition(this.props.id));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.props.className}>\r\n                <InputGroup>\r\n                    <FormControl\r\n                        defaultValue={this.dateEdited}\r\n                        aria-label=\"Date de départ\"\r\n                        type=\"date\"\r\n                        onChange={(event) => {\r\n                            this.dateEdited = event.target.value\r\n                        }}\r\n                        onClick={(event) => { event.stopPropagation() }}\r\n                        onKeyDown={(event) => {\r\n                            if (event.key === \"Escape\") {\r\n                                this.props.dispatch(stopHeureArriveeCellEdition(this.props.id));\r\n                            }\r\n                        }}\r\n                        onKeyPress={(event) => {\r\n                            if (event.key === \"Enter\") {\r\n                                this.handleValidate();\r\n                            }\r\n                        }}\r\n                    />\r\n                    <FormControl\r\n                        defaultValue={this.timeEdited}\r\n                        aria-label=\"Heure de départ\"\r\n                        type=\"time\"\r\n                        onChange={(event) => { this.timeEdited = event.target.value }}\r\n                        onClick={(event) => { event.stopPropagation() }}\r\n                        onKeyDown={(event) => {\r\n                            if (event.key === \"Escape\") {\r\n                                this.props.dispatch(stopHeureArriveeCellEdition(this.props.id));\r\n                            }\r\n                        }}\r\n                        onKeyPress={(event) => {\r\n                            if (event.key === \"Enter\") {\r\n                                this.handleValidate();\r\n                            }\r\n                        }}\r\n                    />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"success\"\r\n                            onClick={(event) => {\r\n                                this.handleValidate();\r\n                                event.stopPropagation();\r\n                            }}>\r\n                            <Check />\r\n                        </Button >\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect()(HeureArriveeCellEditor)\r\n","const tctCodeIdMap = {\r\n    \"FCB\": \"77e8acc5-2d5c-11e6-8bb5-01e08e116de3\",\r\n    \"FCC\": \"7c996166-2d5c-11e6-a2d2-01e08e116de3\",\r\n    \"FEC\": \"76982e97-2d5c-11e6-8203-01e08e116de3\",\r\n    \"FER\": \"9009a7b6-2d5c-11e6-af37-01e08e116de3\",\r\n    \"FLC\": \"9f1e1dc1-2d5c-11e6-9942-01e08e116de3\",\r\n    \"FMB\": \"a87a1b74-2d5c-11e6-959d-01e08e116de3\",\r\n    \"FRR\": \"8a559299-2d5c-11e6-820b-01e08e116de3\",\r\n    \"FVC\": \"0460da1f-2d5d-11e6-b2be-01e08e116de3\",\r\n    \"HYD\": \"013eacaf-2d5e-11e6-a2b9-01e08e116de3\",\r\n    \"HZF\": \"807a7227-2d5c-11e6-b4aa-01e08e116de3\",\r\n    \"HZI\": \"dbee4698-2d5d-11e6-83ca-01e08e116de3\",\r\n    \"HZN\": \"fcaf8b51-2d5c-11e6-b540-01e08e116de3\",\r\n    \"IAT\": \"844416b7-2d7b-11e6-a021-01148e116de3\",\r\n    \"IEA\": \"ad77bd92-2d78-11e6-b578-01148e116de3\",\r\n    \"IVO\": \"8ddbe0fe-2d5c-11e6-90ac-01e08e116de3\",\r\n    \"JAB\": \"8492a97e-2d5d-11e6-93b3-01e08e116de3\",\r\n    \"JAC\": \"ce7c9a7d-2d5d-11e6-8f95-01e08e116de3\",\r\n    \"LBB\": \"ad4f8172-2d78-11e6-b384-01148e116de3\",\r\n    \"LBC\": \"76ceb1ad-2d5c-11e6-8409-01e08e116de3\",\r\n    \"LBG\": \"9ed9e77a-2d5c-11e6-95a2-01e08e116de3\",\r\n    \"LBL\": \"5b3d758f-2d5c-11e6-89c5-01e08e116de3\",\r\n    \"LCA\": \"3a4773c1-2d5d-11e6-9f32-01e08e116de3\",\r\n    \"LVD\": \"5ab0ab1c-2d5c-11e6-83e7-01e08e116de3\",\r\n    \"LVH\": \"5a58bbca-2d5c-11e6-802f-01e08e116de3\",\r\n    \"RBD\": \"fe9e3ec5-2d5b-11e6-892f-01e08e116de3\",\r\n    \"RBK\": \"6d957615-2d5c-11e6-8c5c-01e08e116de3\",\r\n    \"RBS\": \"00b5e5f7-2d5c-11e6-90cb-01e08e116de3\",\r\n    \"RCD\": \"6e53e9ee-2d5c-11e6-95fc-01e08e116de3\",\r\n    \"RCK\": \"6dbb8ee8-2d5c-11e6-8dfd-01e08e116de3\",\r\n    \"SCD\": \"dd4454d2-2d5c-11e6-9b0a-01e08e116de3\",\r\n    \"SCK\": \"8872471c-2d5c-11e6-ac4c-01e08e116de3\"\r\n}\r\n\r\nexport const getCodesTctArray = () => {\r\n    return Object.keys(tctCodeIdMap);\r\n}\r\n\r\nexport const getCodeTctId = (tctCode) => {\r\n     return tctCodeIdMap[tctCode];\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getCodesTctArray, getCodeTctId } from '../../app/tools/CodeTctTools'\r\nimport { changeCodeTct, stopCodeTctCellEdition } from '../../app/actions'\r\n\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport { Check } from 'react-bootstrap-icons';\r\n\r\nclass CodeTctCellEditor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.codeTctEdit = props.codeTCT;\r\n\r\n        // This binding is necessary to make `this` work in the callback    \r\n        this.handleValidate = this.handleValidate.bind(this);\r\n    }\r\n\r\n    handleValidate() {\r\n        if (this.props.codeTCT !== this.codeTctEdit) {\r\n            this.props.dispatch(\r\n                changeCodeTct(\r\n                    this.props.id, \r\n                    getCodeTctId(this.codeTctEdit), \r\n                    this.codeTctEdit));\r\n        } else {\r\n            this.props.dispatch(\r\n                stopCodeTctCellEdition(this.props.id));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <InputGroup className={this.props.className}>\r\n                <FormControl as=\"select\"\r\n                    defaultValue={this.props.codeTCT}\r\n                    aria-label=\"Code TCT\"\r\n                    onChange={(event) => { this.codeTctEdit = event.target.value }}\r\n                    onClick={(event) => { event.stopPropagation() }}\r\n                    onKeyDown={(event) => {\r\n                        if (event.key === \"Escape\") {\r\n                            this.props.dispatch(stopCodeTctCellEdition(this.props.id));\r\n                        }\r\n                    }}\r\n                    onKeyPress={(event) => {\r\n                        if (event.key === \"Enter\") {\r\n                            this.handleValidate();\r\n                        }\r\n                }}>\r\n                    {getCodesTctArray().map(codeTct => (\r\n                        <option>{codeTct}</option>\r\n                    ))}\r\n                </FormControl>\r\n                <InputGroup.Append>\r\n                    <Button variant=\"success\"\r\n                        onClick={(event) => {\r\n                            this.handleValidate();\r\n                            event.stopPropagation();\r\n                        }}>\r\n                        <Check />\r\n                    </Button >\r\n                </InputGroup.Append>\r\n            </InputGroup>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect()(CodeTctCellEditor)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { clickOnRow, numMarcheCellClicked, heureDepartCellClicked, codeTctCellClicked, heureArriveeCellClicked } from '../../app/actions'\r\nimport { getCodeTCT, getDureeTrajet, getHeureDepart, getNumMarche } from '../../app/tools/CirculationXmlTools'\r\n\r\nimport RowActions from '../../mainComponents/table/RowActions'\r\nimport NumMarcheCellEditor from './NumMarcheCellEditor'\r\nimport HeureDepartCellEditor from './HeureDepartCellEditor'\r\nimport HeureArriveeCellEditor from './HeureArriveeCellEditor'\r\nimport CodeTctCellEditor from './CodeTctCellEditor'\r\n\r\nclass CirculationRow extends React.Component {\r\n    render() {\r\n        let heureDepart = new Date(this.props.heureDepart);\r\n        let heureArrivee = new Date(heureDepart.getTime() + 1000 * this.props.dureeTrajet);\r\n        return (\r\n            <tr className={this.props.selected ? \"table-secondary\" : \"\"}\r\n                onClick={() => { this.props.dispatch(clickOnRow(this.props.id)) }} >\r\n                <td>{this.props.id}</td>\r\n                <td>{\r\n                    this.props.numMarcheEdited\r\n                        ? <NumMarcheCellEditor\r\n                            id={this.props.id}\r\n                            numMarche={this.props.numMarche} />\r\n                        : <span onClick={(event) => {\r\n                            this.props.dispatch(numMarcheCellClicked(this.props.id));\r\n                            event.stopPropagation();\r\n                        }}>\r\n                            {this.props.numMarche}\r\n                        </span>\r\n                }</td>\r\n                <td>{\r\n                    this.props.codeTctEdited\r\n                        ? <CodeTctCellEditor\r\n                            id={this.props.id}\r\n                            codeTCT={this.props.codeTCT} />\r\n                        : <span onClick={(event) => {\r\n                            this.props.dispatch(codeTctCellClicked(this.props.id));\r\n                            event.stopPropagation();\r\n                        }}>\r\n                            {this.props.codeTCT}\r\n                        </span>\r\n                }</td>\r\n                <td>{\r\n                    this.props.heureDepartEdited\r\n                        ? <HeureDepartCellEditor\r\n                            id={this.props.id}\r\n                            heureDepart={this.props.heureDepart} />\r\n                        : <span onClick={(event) => {\r\n                            this.props.dispatch(heureDepartCellClicked(this.props.id));\r\n                            event.stopPropagation();\r\n                        }}>\r\n                            {heureDepart.toLocaleDateString('fr-FR')} - {heureDepart.toLocaleTimeString('fr-FR')}\r\n                        </span>\r\n                }</td>\r\n                <td>{\r\n                    this.props.heureArriveeEdited\r\n                        ? <HeureArriveeCellEditor\r\n                            id={this.props.id}\r\n                            heureDepart={this.props.heureDepart}\r\n                            dureeTrajet={this.props.dureeTrajet} />\r\n                        : <span onClick={(event) => {\r\n                            this.props.dispatch(heureArriveeCellClicked(this.props.id));\r\n                            event.stopPropagation();\r\n                        }}>\r\n                            {heureArrivee.toLocaleDateString('fr-FR')} - {heureArrivee.toLocaleTimeString('fr-FR')}\r\n                        </span>\r\n                }</td>\r\n                <td><RowActions\r\n                    id={this.props.id} className=\"float-right\" /></td>\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    let circulation = state.circulationsById[ownProps.id];\r\n    return {\r\n        numMarche: getNumMarche(circulation),\r\n        codeTCT: getCodeTCT(circulation),\r\n        heureDepart: getHeureDepart(circulation),\r\n        dureeTrajet: getDureeTrajet(circulation),\r\n        selected: circulation.selected,\r\n        numMarcheEdited: circulation.numMarcheEdited,\r\n        heureDepartEdited: circulation.heureDepartEdited,\r\n        heureArriveeEdited: circulation.heureArriveeEdited,\r\n        codeTctEdited: circulation.codeTctEdited\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(CirculationRow);","import React from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport Table from 'react-bootstrap/Table';\r\nimport CirculationRow from './tableRow/CirculationRow';\r\n\r\nconst CirculationsTable = ({ circulationsIdList }) => (\r\n    <Table hover>\r\n        <thead>\r\n            <tr>\r\n                <th className=\"w-30\">Id</th>\r\n                <th className=\"w-10\">Num. Marche</th>\r\n                <th className=\"w-10\">Code TCT</th>\r\n                <th className=\"w-15\">Date et heure de départ</th>\r\n                <th className=\"w-15\">Date et heure d'arrivée</th>\r\n                <th className=\"w-10\"></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {circulationsIdList.map(circulationId => (\r\n                <CirculationRow  key={circulationId}\r\n                id={circulationId} />\r\n            ))}\r\n        </tbody>\r\n    </Table >\r\n)\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        circulationsIdList: Object.keys(state.circulationsById)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(CirculationsTable);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { changeDateHeureDebut, stopDateHeureDebutCellEdition } from '../../app/actions'\r\n\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport Button from 'react-bootstrap/Button'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport { Check } from 'react-bootstrap-icons';\r\n\r\nclass DateHeureDebutCellEditor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let parsedDate = new Date(props.dateHeureDebut);\r\n        this.dateEdited = parsedDate.toISOString().slice(0, 10);\r\n        this.timeEdited = parsedDate.toLocaleTimeString('fr-FR');\r\n\r\n        // This binding is necessary to make `this` work in the callback    \r\n        this.handleValidate = this.handleValidate.bind(this);\r\n    }\r\n\r\n    handleValidate() {\r\n        let newHeureDebut = new Date(\r\n            this.dateEdited + \" \" + this.timeEdited);\r\n        if (newHeureDebut !== this.props.dateHeureDebut) {\r\n            this.props.dispatch(changeDateHeureDebut(\r\n                this.props.id, newHeureDebut.toISOString()))\r\n\r\n        } else {\r\n            this.props.dispatch(stopDateHeureDebutCellEdition(this.props.id));\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={this.props.className}>\r\n                <InputGroup>\r\n                    <FormControl\r\n                        defaultValue={this.dateEdited}\r\n                        aria-label=\"Date du début\"\r\n                        type=\"date\"\r\n                        onChange={(event) => {\r\n                            this.dateEdited = event.target.value\r\n                        }}\r\n                        onClick={(event) => { event.stopPropagation() }}\r\n                        onKeyDown={(event) => {\r\n                            if (event.key === \"Escape\") {\r\n                                this.props.dispatch(stopDateHeureDebutCellEdition(this.props.id));\r\n                            }\r\n                        }}\r\n                        onKeyPress={(event) => {\r\n                            if (event.key === \"Enter\") {\r\n                                this.handleValidate();\r\n                            }\r\n                        }}\r\n                    />\r\n                    <FormControl\r\n                        defaultValue={this.timeEdited}\r\n                        aria-label=\"Heure du début\"\r\n                        type=\"time\"\r\n                        onChange={(event) => { this.timeEdited = event.target.value }}\r\n                        onClick={(event) => { event.stopPropagation() }}\r\n                        onKeyDown={(event) => {\r\n                            if (event.key === \"Escape\") {\r\n                                this.props.dispatch(stopDateHeureDebutCellEdition(this.props.id));\r\n                            }\r\n                        }}\r\n                        onKeyPress={(event) => {\r\n                            if (event.key === \"Enter\") {\r\n                                this.handleValidate();\r\n                            }\r\n                        }}\r\n                    />\r\n                    <InputGroup.Append>\r\n                        <Button variant=\"success\"\r\n                            onClick={(event) => {\r\n                                this.handleValidate();\r\n                                event.stopPropagation();\r\n                            }}>\r\n                            <Check />\r\n                        </Button >\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect()(DateHeureDebutCellEditor)\r\n","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { clickOnRow, dateHeureDebutCellClicked } from '../../app/actions'\r\n\r\nimport RowActions from '../../mainComponents/table/RowActions'\r\nimport DateHeureDebutCellEditor from './DateHeureDebutCellEditor'\r\nimport { getPtxRessourcesInfraType, getPtxRessourcesDescription, getDateHeureDebut } from '../../app/tools/PtxXmlTools';\r\n\r\nclass PtxRow extends React.Component {\r\n    render() {\r\n        let dateHeureDebut = new Date(this.props.dateHeureDebut);\r\n        return (\r\n            <tr className={this.props.selected ? \"table-secondary\" : \"\"}\r\n                onClick={() => { this.props.dispatch(clickOnRow(this.props.id)) }} >\r\n                <td>{this.props.id}</td>\r\n                <td>{this.props.ressourceInfraType}</td>\r\n                <td>{this.props.ressourceDescription}</td>\r\n                <td>{\r\n                    this.props.dateHeureDebutEdited\r\n                        ? <DateHeureDebutCellEditor\r\n                            id={this.props.id}\r\n                            dateHeureDebut={this.props.dateHeureDebut} />\r\n                        : <span onClick={(event) => {\r\n                            this.props.dispatch(dateHeureDebutCellClicked(this.props.id));\r\n                            event.stopPropagation();\r\n                        }}>\r\n                            {dateHeureDebut.toLocaleDateString('fr-FR')} - {dateHeureDebut.toLocaleTimeString('fr-FR')}\r\n                        </span>\r\n                }</td>\r\n                <td><RowActions\r\n                    id={this.props.id} className=\"float-right\" /></td>\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    let ptx = state.ptxsById[ownProps.id];\r\n    return {\r\n        selected: ptx.selected,\r\n        ressourceInfraType: getPtxRessourcesInfraType(ptx),\r\n        ressourceDescription: getPtxRessourcesDescription(ptx),\r\n        dateHeureDebut: getDateHeureDebut(ptx),\r\n        dateHeureDebutEdited: ptx.dateHeureDebutEdited,\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(PtxRow);","import React from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport Table from 'react-bootstrap/Table';\r\n\r\nimport PtxRow from './tableRow/PtxRow'\r\n\r\nconst PtxsTable = ({ ptxsIdList }) => (\r\n    <Table hover>\r\n        <thead>\r\n            <tr>\r\n                <th className=\"w-20\">Id</th>\r\n                <th className=\"w-10\">Type ressource</th>\r\n                <th className=\"w-30\">Description ressource</th>\r\n                <th className=\"w-30\">Date et heure de début</th>\r\n                <th className=\"w-10\"></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            {ptxsIdList.map(ptxId => (\r\n                <PtxRow key={ptxId}\r\n                id={ptxId} />\r\n            ))}\r\n        </tbody>\r\n    </Table >\r\n)\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        ptxsIdList: Object.keys(state.ptxsById)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(PtxsTable);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { editedObject } from '../../app/enum'\r\n\r\nimport Container from 'react-bootstrap/Container'\r\n\r\nimport LoadButton from '../toolbar/LoadButton'\r\nimport CirculationsTable from '../../circulationsComponents/CirculationsTable'\r\nimport PtxsTable from '../../ptxComponents/PtxsTable'\r\n\r\nclass MainTable extends React.Component {\r\n\r\n    render() {\r\n        switch (this.props.editedObject) {\r\n            case editedObject.CIRCULATIONS:\r\n                return (<CirculationsTable />);\r\n            case editedObject.PTX:\r\n                return (<PtxsTable />);\r\n            case editedObject.NONE:\r\n            default:\r\n                return (\r\n                    <Container style={{ marginTop: 50 }}>\r\n                        <h2>Éditeur de fichiers xml pour l'import dans GOC 2.0</h2>\r\n                        <p>\r\n                            <b>Aucun fichier chargé</b><br />\r\n                            Pour commencer charger un fichier xml à éditer\r\n                        </p>\r\n                        <LoadButton buttonText=\" Charger un fichier\" />\r\n                    </Container>\r\n                );\r\n        }\r\n    }\r\n\r\n}\r\n\r\nconst mapState = (state) => {\r\n    return { editedObject: state.editedObject }\r\n}\r\n\r\nexport default connect(mapState)(MainTable)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { shiftDateButtonClicked, shiftDateClosed, shiftDateValidated } from '../../app/actions'\r\nimport { getHeureDepart } from '../../app/tools/CirculationXmlTools'\r\nimport { getDateHeureDebut } from '../../app/tools/PtxXmlTools'\r\nimport { editedObject } from '../../app/enum'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport Form from 'react-bootstrap/Form'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\n\r\nclass ShiftDateModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let parsedDate = new Date(Date.now());\r\n        this.startDay = this.props.startDate.toISOString().slice(0, 10);\r\n        this.startTime = this.props.startDate.toLocaleTimeString('fr-FR');\r\n        this.goalDay = parsedDate.toISOString().slice(0, 10);\r\n        this.goalTime = this.props.startDate.toLocaleTimeString('fr-FR');\r\n\r\n        // These bindings are necessary to make `this` work in the callback    \r\n        this.handleShow = this.handleShow.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleValidate = this.handleValidate.bind(this);\r\n    }\r\n\r\n    handleShow(event) {\r\n        this.props.dispatch(shiftDateButtonClicked());\r\n        event.stopPropagation();\r\n    }\r\n\r\n    handleClose(event) {\r\n        this.props.dispatch(shiftDateClosed());\r\n        if (event) {\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    handleValidate(event) {\r\n        let start = new Date(this.startDay + \" \" + this.startTime);\r\n        let goal = new Date(this.goalDay + \" \" + this.goalTime);\r\n        this.props.dispatch(\r\n            shiftDateValidated(start.toISOString(), goal.toISOString())\r\n        );\r\n        event.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal show={this.props.shown} onHide={this.handleClose}\r\n                onClick={(event) => { event.stopPropagation(); }}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Décalage des heures de départ</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form.Group>\r\n                        <Form.Label>De la date</Form.Label>\r\n                        <InputGroup>\r\n                            <FormControl\r\n                                defaultValue={this.startDay}\r\n                                aria-label=\"De la date (jour)\"\r\n                                type=\"date\"\r\n                                onChange={(event) => {\r\n                                    this.startDay = event.target.value;\r\n                                }}\r\n                            />\r\n                            <FormControl\r\n                                defaultValue={this.startTime}\r\n                                aria-label=\"De la date (heure)\"\r\n                                type=\"time\"\r\n                                onChange={(event) => {\r\n                                    this.startTime = event.target.value;\r\n                                }}\r\n                            />\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group>\r\n                        <Form.Label>Vers la date</Form.Label>\r\n                        <InputGroup>\r\n                            <FormControl\r\n                                defaultValue={this.goalDay}\r\n                                aria-label=\"Vers la date (jour)\"\r\n                                type=\"date\"\r\n                                onChange={(event) => {\r\n                                    this.goalDay = event.target.value;\r\n                                }}\r\n                            />\r\n                            <FormControl\r\n                                defaultValue={this.goalTime}\r\n                                aria-label=\"Vers la date (heure)\"\r\n                                type=\"time\"\r\n                                onChange={(event) => {\r\n                                    this.goalTime = event.target.value;\r\n                                }}\r\n                            />\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"danger\" onClick={this.handleClose}>\r\n                        Annuler\r\n                    </Button>\r\n                    <Button variant=\"success\" onClick={this.handleValidate}>\r\n                        Valider\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapState = (state) => {\r\n    let getSelectedId = () => {\r\n        switch (state.editedObject) {\r\n            case editedObject.CIRCULATIONS:\r\n                return Object.keys(state.circulationsById).find(\r\n                    (id) => { return state.circulationsById[id].selected });\r\n            case editedObject.PTX:\r\n                return Object.keys(state.ptxsById).find(\r\n                    (id) => { return state.ptxsById[id].selected });\r\n            default:\r\n                return;\r\n        };\r\n    }\r\n    let getHeure = (id) => {\r\n        switch (state.editedObject) {\r\n            case editedObject.CIRCULATIONS:\r\n                return getHeureDepart(state.circulationsById[id]);\r\n            case editedObject.PTX:\r\n                return getDateHeureDebut(state.ptxsById[id]);\r\n            default:\r\n                return \"\";\r\n        };\r\n    }\r\n    let selectedId = getSelectedId();\r\n    return ({\r\n        shown: state.main.shiftDateModal.shown,\r\n        startDate:\r\n            (selectedId === undefined)\r\n                ? new Date(Date.now())\r\n                : new Date(getHeure(selectedId))\r\n    });\r\n}\r\n\r\nexport default connect(mapState)(ShiftDateModal)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { fanHeureDepartButtonClicked, fanHeureDepartClosed, fanHeureDepartValidated } from '../../app/actions'\r\nimport { getHeureDepart } from '../../app/tools/CirculationXmlTools'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport Form from 'react-bootstrap/Form'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\n\r\nclass FanHeureDepartModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.dateEdited = this.props.startDate.toISOString().slice(0, 10);\r\n        this.timeEdited = this.props.startDate.toLocaleTimeString('fr-FR');\r\n\r\n        this.increment = 600; // default: 10 minutes increment\r\n\r\n        // These bindings are necessary to make `this` work in the callback    \r\n        this.handleShow = this.handleShow.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleValidate = this.handleValidate.bind(this);\r\n    }\r\n\r\n    handleShow(event) {\r\n        this.props.dispatch(fanHeureDepartButtonClicked());\r\n        event.stopPropagation();\r\n    }\r\n\r\n    handleClose(event) {\r\n        this.props.dispatch(fanHeureDepartClosed());\r\n        if (event) {\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    handleValidate(event) {\r\n        let newHeureDepart = new Date(\r\n            this.dateEdited + \" \" + this.timeEdited);\r\n        this.props.dispatch(\r\n            fanHeureDepartValidated(newHeureDepart.toISOString(), this.increment));\r\n        event.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal show={this.props.shown} onHide={this.handleClose}\r\n                onClick={(event) => { event.stopPropagation(); }}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Ventilatation des heures de départ</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form.Group>\r\n                        <Form.Label>Heure de départ</Form.Label>\r\n\r\n                        <InputGroup>\r\n                            <FormControl\r\n                                defaultValue={this.dateEdited}\r\n                                aria-label=\"Date de départ\"\r\n                                type=\"date\"\r\n                                onChange={(event) => {\r\n                                    this.dateEdited = event.target.value;\r\n                                }}\r\n                            />\r\n                            <FormControl\r\n                                defaultValue={this.timeEdited}\r\n                                aria-label=\"Heure de départ\"\r\n                                type=\"time\"\r\n                                onChange={(event) => {\r\n                                    this.timeEdited = event.target.value;\r\n                                }}\r\n                            />\r\n                        </InputGroup>\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Label>Incrément</Form.Label>\r\n                        <Form.Control\r\n                            defaultValue={\"00:10:00\"}\r\n                            type=\"time\" step=\"1\" placeholder=\"Incrément\"\r\n                            onChange={(event) => {\r\n                                var secondsInc =\r\n                                    parseInt(event.target.value.slice(0, 2) * 3600, 10);\r\n                                secondsInc += parseInt(event.target.value.slice(3, 5) * 60, 10);\r\n                                var secondsPart = parseInt(event.target.value.slice(6, 8), 10);\r\n                                secondsInc += isNaN(secondsPart) ? 0 : secondsPart;\r\n                                this.increment = secondsInc;\r\n                            }} />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"danger\" onClick={this.handleClose}>\r\n                        Annuler\r\n                    </Button>\r\n                    <Button variant=\"success\" onClick={this.handleValidate}>\r\n                        Valider\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapState = (state) => {\r\n    let selectedId = Object.keys(state.circulationsById).find(\r\n        (id) => { return state.circulationsById[id].selected });\r\n    return ({\r\n        shown: state.main.fanHeureDepartModal.shown,\r\n        startDate:\r\n            (selectedId === undefined)\r\n                ? new Date(Date.now())\r\n                : new Date(getHeureDepart(state.circulationsById[selectedId]))\r\n    });\r\n}\r\n\r\nexport default connect(mapState)(FanHeureDepartModal)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { fanNumMarcheButtonClicked, fanNumMarcheClosed, fanNumMarcheValidated } from '../../app/actions'\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport FormControl from 'react-bootstrap/FormControl'\r\nimport Form from 'react-bootstrap/Form'\r\nimport { getNumMarche } from '../../app/tools/CirculationXmlTools'\r\n\r\nclass FanNumMarcheModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.numMarcheEdited = this.props.selectedNumMarche;\r\n        this.increment = 2;\r\n\r\n        // These bindings are necessary to make `this` work in the callback    \r\n        this.handleShow = this.handleShow.bind(this);\r\n        this.handleClose = this.handleClose.bind(this);\r\n        this.handleValidate = this.handleValidate.bind(this);\r\n    }\r\n\r\n    handleShow(event) {\r\n        this.props.dispatch(fanNumMarcheButtonClicked());\r\n        event.stopPropagation();\r\n    }\r\n\r\n    handleClose(event) {\r\n        this.props.dispatch(fanNumMarcheClosed());\r\n        if (event) {\r\n            event.stopPropagation();\r\n        }\r\n    }\r\n\r\n    handleValidate(event) {\r\n        this.props.dispatch(\r\n            fanNumMarcheValidated(this.numMarcheEdited, this.increment));\r\n        event.stopPropagation();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Modal show={this.props.shown} onHide={this.handleClose}\r\n                onClick={(event) => { event.stopPropagation(); }}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Ventilatation des numéros de marche</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form.Group>\r\n                        <Form.Label>Numéro de marche intial</Form.Label>\r\n                        <FormControl\r\n                            defaultValue={this.numMarcheEdited}\r\n                            aria-label=\"Numéro de marche\"\r\n                            type=\"number\"\r\n                            onChange={(event) => {\r\n                                this.numMarcheEdited = parseInt(event.target.value, 10);\r\n                            }}\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group>\r\n                        <Form.Label>Incrément</Form.Label>\r\n                        <Form.Control\r\n                            defaultValue={this.increment}\r\n                            type=\"number\" placeholder=\"Incrément\"\r\n                            onChange={(event) => {\r\n                                this.increment = parseInt(event.target.value, 10);\r\n                            }\r\n                            } />\r\n                    </Form.Group>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button variant=\"danger\" onClick={this.handleClose}>\r\n                        Annuler\r\n                    </Button>\r\n                    <Button variant=\"success\" onClick={this.handleValidate}>\r\n                        Valider\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapState = (state) => {\r\n    let selectedId = Object.keys(state.circulationsById).find(\r\n        (id) => { return state.circulationsById[id].selected });\r\n    return ({\r\n        shown: state.main.fanNumMarcheModal.shown,\r\n        selectedNumMarche:\r\n            (selectedId === undefined)\r\n                ? 0\r\n                : parseInt(getNumMarche(state.circulationsById[selectedId]))\r\n    });\r\n}\r\n\r\nexport default connect(mapState)(FanNumMarcheModal)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport FanHeureDepartModal from './FanHeureDepartModal'\r\nimport FanNumMarcheModal from './FanNumMarcheModal';\r\n\r\nclass CirculationSpecificModals extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.fanHeureDepartShown ? <FanHeureDepartModal /> : <></>}\r\n                {this.props.fanNumMarcheShown ? <FanNumMarcheModal /> : <></>}\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapState = (state) => {\r\n    return ({\r\n        fanHeureDepartShown: state.main.fanHeureDepartModal.shown,\r\n        fanNumMarcheShown: state.main.fanNumMarcheModal.shown,\r\n    });\r\n}\r\n\r\nexport default connect(mapState)(CirculationSpecificModals)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport { editedObject } from '../../app/enum'\r\nimport ShiftDateModal from './ShiftDateModal';\r\nimport CirculationsSpecificModals from '../../circulationsComponents/modals/CirculationsSpecificModals'\r\n\r\nfunction ObjectSpecificModals(props) {\r\n    switch (props.editedObject) {\r\n        case editedObject.CIRCULATIONS:\r\n            return (<CirculationsSpecificModals />);\r\n        default:\r\n            return (<></>);\r\n    }\r\n}\r\n\r\nclass Modals extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.shiftDateShown ? <ShiftDateModal /> : <></>}\r\n                <ObjectSpecificModals {...this.props} />\r\n            </>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapState = (state) => {\r\n    return ({\r\n        editedObject: state.editedObject,\r\n        shiftDateShown: state.main.shiftDateModal.shown\r\n    });\r\n}\r\n\r\nexport default connect(mapState)(Modals)","import React from 'react';\r\n\r\nimport './App.css';\r\n\r\nimport Container from 'react-bootstrap/Container';\r\nimport Toolbar from './mainComponents/toolbar/Toolbar'\r\nimport MainTable from './mainComponents/table/MainTable'\r\nimport Modals from './mainComponents/modals/Modals';\r\n\r\nconst App = () => (\r\n  <Container fluid style={{ paddingLeft: 0, paddingRight: 0 }}>\r\n    <Toolbar />\r\n    <MainTable />\r\n    <Modals />\r\n  </Container>\r\n);\r\n\r\nexport default App;\r\n","import { produce } from 'immer'\r\nimport { v1 as uuidv1 } from 'uuid';\r\nimport { xmlTextToCirculationsObject, getHeureDepart, withNumMarche, withHeureDepart, withCodeTCT } from '../tools/CirculationXmlTools'\r\n\r\nconst defaultCirculationObject = {\r\n  selected: false,\r\n  extended: false,\r\n  numMarcheEdited: false,\r\n  heureDepartEdited: false,\r\n  heureArriveeEdited: false,\r\n  codeTctEdited: false\r\n}\r\n\r\nconst circulationsById = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'XML_FILE_SUBMITED':\r\n      let circulationsToAdd = xmlTextToCirculationsObject(action.xmlText, defaultCirculationObject);\r\n      return ({\r\n        ...state,\r\n        ...circulationsToAdd\r\n      });\r\n    case 'SELECT_ALL':\r\n      return produce(state, draftState => {\r\n        Object.keys(draftState).forEach((id => { draftState[id].selected = true; }));\r\n      });\r\n    case 'UNSELECT_ALL':\r\n      return produce(state, draftState => {\r\n        Object.keys(draftState).forEach((id => { draftState[id].selected = false; }));\r\n      });\r\n    case 'FLIP_SELECT_ALL':\r\n      return produce(state, draftState => {\r\n        Object.keys(draftState).forEach((id => {\r\n          draftState[id].selected = !(draftState[id].selected);\r\n        }));\r\n      });\r\n    case 'CIRCULATION_CHANGED':\r\n      return produce(state, draftState => {\r\n        draftState[action.id] = {\r\n          ...draftState[action.id],\r\n          ...action.circulation\r\n        };\r\n      })\r\n    case 'ROW_CLICKED_ON':\r\n      return produce(state, draftState => {\r\n        if (draftState[action.id] != null) {\r\n          draftState[action.id].selected = !(draftState[action.id].selected);\r\n        }\r\n      });\r\n    case 'ROW_DELETED':\r\n      return omit(action.id, state);\r\n    case 'DELETE_SELECTED_BUTTON_PRESSED':\r\n      return filterObject(state, (circulation) => { return !circulation.selected; });\r\n    case 'ROW_DUPLICATED':\r\n      return Object.keys(state).reduce((result, id) => {\r\n        if (id === action.id) {\r\n          let newId = uuidv1();\r\n          return ({\r\n            ...result,\r\n            [id]: state[id],\r\n            [newId]: {\r\n              ...state[id],\r\n              id: newId,\r\n              selected: false\r\n            }\r\n          })\r\n        } else {\r\n          return ({ ...result, [id]: state[id] })\r\n        }\r\n      }, {});\r\n    case 'DUPLICATE_SELECTED_BUTTON_PRESSED':\r\n      return duplicateSelectedCirculations(state);\r\n    case 'CHANGE_ID_SELECTED_BUTTON_PRESSED':\r\n      return changeIdSelectedCirculations(state);\r\n    case 'NUM_MARCHE_CELL_CLICKED':\r\n      return produce(state, draftState => { draftState[action.id].numMarcheEdited = true; });\r\n    case 'STOP_NUM_MARCHE_CELL_EDITION':\r\n      return produce(state, draftState => { draftState[action.id].numMarcheEdited = false; });\r\n    case 'CIRCULATION_NUM_MARCHE_CHANGED':\r\n      return produce(state, draftState => {\r\n        draftState[action.id] = withNumMarche(draftState[action.id], action.numMarche);\r\n        draftState[action.id].numMarcheEdited = false;\r\n      });\r\n    case 'HEURE_DEPART_CELL_CLICKED':\r\n      return produce(state, draftState => { \r\n        draftState[action.id].heureDepartEdited = true; \r\n        draftState[action.id].heureArriveeEdited = false; \r\n      });\r\n    case 'STOP_HEURE_DEPART_CELL_EDITION':\r\n      return produce(state, draftState => { draftState[action.id].heureDepartEdited = false; });\r\n    case 'HEURE_ARRIVEE_CELL_CLICKED':\r\n        return produce(state, draftState => { \r\n          draftState[action.id].heureArriveeEdited = true; \r\n          draftState[action.id].heureDepartEdited = false; \r\n        });\r\n    case 'STOP_HEURE_ARRIVEE_CELL_EDITION':\r\n        return produce(state, draftState => { draftState[action.id].heureArriveeEdited = false; });\r\n    case 'CIRCULATION_HEURE_DEPART_CHANGED':\r\n      return produce(state, draftState => {\r\n        draftState[action.id] = withHeureDepart(draftState[action.id], action.heureDepart);\r\n        draftState[action.id].heureDepartEdited = false;\r\n        draftState[action.id].heureArriveeEdited = false;\r\n      });\r\n    case 'TCT_CELL_CLICKED':\r\n      return produce(state, draftState => { draftState[action.id].codeTctEdited = true; });\r\n    case 'STOP_TCT_CELL_EDITION':\r\n      return produce(state, draftState => { draftState[action.id].codeTctEdited = false; });\r\n    case 'CIRCULATION_TCT_CHANGED':\r\n      return produce(state, draftState => {\r\n        draftState[action.id] = withCodeTCT(draftState[action.id], action.tctId, action.tctCode);\r\n        draftState[action.id].codeTctEdited = false;\r\n      });\r\n    case 'FAN_HEURE_DEPART_VALIDATED':\r\n      return fanHeureDepart(state, action.start, action.secondsIncrement);\r\n    case 'FAN_NUM_MARCHE_VALIDATED':\r\n      return fanNumMarche(state, action.start, action.increment);\r\n    case 'SHIFT_DATE_VALIDATED':\r\n      return shiftDate(state, action.start, action.goal);\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst omit = (keyToOmit, { [keyToOmit]: _, ...omittedPropObj } = {}) => omittedPropObj;\r\n\r\nconst filterObject = (object, filterFunction) => {\r\n  let filtered = {};\r\n  Object.keys(object).forEach((key) => {\r\n    if (filterFunction(object[key])) {\r\n      filtered[key] = object[key];\r\n    }\r\n  })\r\n  return filtered;\r\n}\r\n\r\nconst duplicateSelectedCirculations = (state) => {\r\n  return Object.keys(state).reduce((result, id) => {\r\n    if (state[id].selected) {\r\n      let newId = uuidv1();\r\n      return ({\r\n        ...result,\r\n        [id]: state[id],\r\n        [newId]: {\r\n          ...state[id],\r\n          id: newId,\r\n          selected: false\r\n        }\r\n      })\r\n    } else {\r\n      return ({ ...result, [id]: state[id] })\r\n    }\r\n  }, {});\r\n}\r\n\r\nconst changeIdSelectedCirculations = (state) => {\r\n  return Object.keys(state).reduce((result, id) => {\r\n    if (state[id].selected) {\r\n      let newId = uuidv1();\r\n      return ({\r\n        ...result,\r\n        [newId]: {\r\n          ...state[id],\r\n          id: newId\r\n        }\r\n      })\r\n    } else {\r\n      return ({ ...result, [id]: state[id] })\r\n    }\r\n  }, {});\r\n}\r\n\r\nconst fanHeureDepart = (state, start, secondsIncrement) => {\r\n  var currentDate = new Date(start);\r\n  return produce(state, draftState => {\r\n    Object.keys(draftState).forEach((id) => {\r\n      if (draftState[id].selected) {\r\n        draftState[id] = withHeureDepart(draftState[id], currentDate);\r\n        currentDate.setSeconds(currentDate.getSeconds() + secondsIncrement);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nconst fanNumMarche = (state, start, increment) => {\r\n  var currentId = start;\r\n  return produce(state, draftState => {\r\n    Object.keys(draftState).forEach((id) => {\r\n      if (draftState[id].selected) {\r\n        draftState[id] = withNumMarche(draftState[id], currentId);\r\n        currentId += increment;\r\n      }\r\n    })\r\n  });\r\n}\r\n\r\nconst shiftDate = (state, start, goal) => {\r\n  const startDate = new Date(start);\r\n  const goalDate = new Date(goal);\r\n  const delta = goalDate - startDate;\r\n\r\n  return produce(state, draftState => {\r\n    Object.keys(draftState).forEach((id) => {\r\n      const origDate = new Date(getHeureDepart(draftState[id]));\r\n      draftState[id] = withHeureDepart(draftState[id], (new Date(origDate.getTime() + delta)));\r\n    });\r\n  });\r\n}\r\n\r\nexport default circulationsById","import { produce } from 'immer'\r\nimport { v1 as uuidv1 } from 'uuid';\r\nimport { xmlTextToPtxObject, getDateHeureDebut, withId, withDateHeureDebut } from '../tools/PtxXmlTools'\r\n\r\nconst defaultPtxObject = {\r\n  selected: false,\r\n  extended: false,\r\n  dateHeureDebutEdited: false,\r\n}\r\n\r\nconst ptxsById = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case 'XML_FILE_SUBMITED':\r\n      let ptxsToAdd = xmlTextToPtxObject(action.xmlText, defaultPtxObject);\r\n      return ({\r\n        ...state,\r\n        ...ptxsToAdd\r\n      });\r\n      case 'SELECT_ALL':\r\n        return produce(state, draftState => {\r\n          Object.keys(draftState).forEach((id => { draftState[id].selected = true; }));\r\n        });\r\n      case 'UNSELECT_ALL':\r\n        return produce(state, draftState => {\r\n          Object.keys(draftState).forEach((id => { draftState[id].selected = false; }));\r\n        });\r\n      case 'FLIP_SELECT_ALL':\r\n        return produce(state, draftState => {\r\n          Object.keys(draftState).forEach((id => {\r\n            draftState[id].selected = !(draftState[id].selected);\r\n          }));\r\n        });\r\n      case 'ROW_CLICKED_ON':\r\n        return produce(state, draftState => {\r\n          if (draftState[action.id] != null) {\r\n            draftState[action.id].selected = !(draftState[action.id].selected);\r\n          }\r\n        });\r\n      case 'ROW_DELETED':\r\n        return omit(action.id, state);\r\n      case 'DELETE_SELECTED_BUTTON_PRESSED':\r\n        return filterObject(state, (circulation) => { return !circulation.selected; });\r\n      case 'ROW_DUPLICATED':\r\n        return Object.keys(state).reduce((result, id) => {\r\n          if (id === action.id) {\r\n            let newId = uuidv1();\r\n            return ({\r\n              ...result,\r\n              [id]: state[id],\r\n              [newId]: {\r\n                ...state[id],\r\n                id: newId,\r\n                selected: false\r\n              }\r\n            })\r\n          } else {\r\n            return ({ ...result, [id]: state[id] })\r\n          }\r\n        }, {});\r\n      case 'DUPLICATE_SELECTED_BUTTON_PRESSED':\r\n        return duplicateSelectedPtx(state);\r\n      case 'CHANGE_ID_SELECTED_BUTTON_PRESSED':\r\n        return changeIdSelectedPtx(state);\r\n      case 'SHIFT_DATE_VALIDATED':\r\n        return shiftDate(state, action.start, action.goal);\r\n      case 'DATE_HEURE_DEBUT_CELL_CLICKED':\r\n          return produce(state, draftState => { draftState[action.id].dateHeureDebutEdited = true; });\r\n      case 'STOP_DATE_HEURE_DEBUT_CELL_EDITION':\r\n          return produce(state, draftState => { draftState[action.id].dateHeureDebutEdited = false; });\r\n      case 'DATE_HEURE_DEBUT_CHANGED':\r\n          return produce(state, draftState => {\r\n              draftState[action.id] = withDateHeureDebut(draftState[action.id], action.dateHeureDebut);\r\n              draftState[action.id].dateHeureDebutEdited = false;\r\n            });\r\n      default:\r\n        return state\r\n    }\r\n}\r\n\r\nconst omit = (keyToOmit, { [keyToOmit]: _, ...omittedPropObj } = {}) => omittedPropObj;\r\n\r\nconst filterObject = (object, filterFunction) => {\r\n  let filtered = {};\r\n  Object.keys(object).forEach((key) => {\r\n    if (filterFunction(object[key])) {\r\n      filtered[key] = object[key];\r\n    }\r\n  })\r\n  return filtered;\r\n}\r\n\r\nconst duplicateSelectedPtx = (state) => {\r\n  return Object.keys(state).reduce((result, id) => {\r\n    if (state[id].selected) {\r\n      let newId = uuidv1();\r\n      return ({\r\n        ...result,\r\n        [id]: state[id],\r\n        [newId]: {\r\n          ...state[id],\r\n          id: newId,\r\n          selected: false\r\n        }\r\n      })\r\n    } else {\r\n      return ({ ...result, [id]: state[id] })\r\n    }\r\n  }, {});\r\n}\r\n\r\nconst changeIdSelectedPtx = (state) => {\r\n  return Object.keys(state).reduce((result, id) => {\r\n    if (state[id].selected) {\r\n      let newId = uuidv1();\r\n      return ({\r\n        ...result,\r\n        [newId]: withId(state[id], newId)\r\n      })\r\n    } else {\r\n      return ({ ...result, [id]: state[id] })\r\n    }\r\n  }, {});\r\n}\r\n\r\nconst shiftDate = (state, start, goal) => {\r\n  const startDate = new Date(start);\r\n  const goalDate = new Date(goal);\r\n  const delta = goalDate - startDate;\r\n\r\n  return produce(state, draftState => {\r\n    Object.keys(draftState).forEach((id) => {\r\n      const origDate = new Date(getDateHeureDebut(draftState[id]));\r\n      draftState[id] = withDateHeureDebut(draftState[id], (new Date(origDate.getTime() + delta)));\r\n    });\r\n  });\r\n}\r\n\r\nexport default ptxsById","import { produce } from 'immer'\r\n\r\nlet defaultState = {\r\n    loadingInfo: {\r\n        isLoading: false,\r\n        toLoadCount: 0,\r\n        loadedCount: 0\r\n    },\r\n    shiftDateModal: {\r\n        shown: false,\r\n    },\r\n    fanHeureDepartModal: {\r\n        shown: false,\r\n    },\r\n    fanNumMarcheModal: {\r\n        shown: false,\r\n    }\r\n}\r\n\r\nconst main = (state = defaultState, action) => {\r\n    switch (action.type) {\r\n        case 'FAN_HEURE_DEPART_BUTTON_CLICKED':\r\n            return produce(state, draftState => { draftState.fanHeureDepartModal.shown = true; });\r\n        case 'FAN_HEURE_DEPART_VALIDATED':\r\n        case 'FAN_HEURE_DEPART_CLOSED':\r\n            return produce(state, draftState => { draftState.fanHeureDepartModal.shown = false; });\r\n        case 'FAN_NUM_MARCHE_BUTTON_CLICKED':\r\n            return produce(state, draftState => { draftState.fanNumMarcheModal.shown = true; });\r\n        case 'FAN_NUM_MARCHE_VALIDATED':\r\n        case 'FAN_NUM_MARCHE_CLOSED':\r\n            return produce(state, draftState => { draftState.fanNumMarcheModal.shown = false; });\r\n        case 'SHIFT_DATE_BUTTON_CLICKED':\r\n            return produce(state, draftState => { draftState.shiftDateModal.shown = true; });\r\n        case 'SHIFT_DATE_VALIDATED':\r\n        case 'SHIFT_DATE_CLOSED':\r\n            return produce(state, draftState => { draftState.shiftDateModal.shown = false; });\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default main","import { produce } from 'immer'\r\nimport { editedObject } from '../enum'\r\n\r\nimport circulationsById from './circulationsById'\r\nimport ptxsById from './ptxsById'\r\nimport main from './main'\r\n\r\nconst reducer = (state = { editedObject: editedObject.NONE }, action) => {\r\n    switch (action.type) {\r\n        case 'XML_FILE_SUBMITED':\r\n            let edited = getXmlFileObject(action.xmlText);\r\n            return produce(state, draftState => {\r\n                draftState.editedObject = edited;\r\n                if (edited === editedObject.CIRCULATIONS) {\r\n                    draftState.circulationsById = circulationsById(state.circulationsById, action);\r\n                } else if (edited === editedObject.PTX) {\r\n                    draftState.ptxsById = ptxsById(state.ptxsById, action);\r\n                }\r\n            });\r\n        default:\r\n            return produce(state, draftState => {\r\n                draftState.main = main(state.main, action);\r\n                if (state.editedObject === editedObject.CIRCULATIONS) {\r\n                    draftState.circulationsById = circulationsById(state.circulationsById, action);\r\n                } else if (state.editedObject === editedObject.PTX) {\r\n                    draftState.ptxsById = ptxsById(state.ptxsById, action);\r\n                }\r\n            });\r\n    }\r\n\r\n}\r\n\r\nconst getXmlFileObject = (xmlText) => {\r\n    let searchedString = xmlText.slice(0, 100);\r\n    if (searchedString.includes(\"<circulations>\")) {\r\n        return editedObject.CIRCULATIONS;\r\n    } else if (searchedString.includes(\"<planchesTravaux>\")) {\r\n        return editedObject.PTX;\r\n    } else {\r\n        return editedObject.NONE;\r\n    }\r\n}\r\nexport default reducer;","import { configureStore } from '@reduxjs/toolkit'\r\n\r\nimport reducer from './reducers/index'\r\n\r\nexport default configureStore({\r\n  reducer\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\n\r\n// Importing the Bootstrap CSS\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './Bootstrap-override.css';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n  );\r\n  "],"sourceRoot":""}